@inherits LayoutComponentBase
@inject IJSRuntime _jsRuntime

<RadzenHeader>
    <ChildContent>
        <AppHeader OnToggleClick="@ChangeToggle" />
    </ChildContent>
</RadzenHeader>
<div style="width: 100%" class="overflow-auto">
    <RadzenBody @ref="@body0" @bind-Expanded="@bodyExpanded">
        <ChildContent>
            <RadzenContentContainer Name="main">
                @Body
            </RadzenContentContainer>
        </ChildContent>
    </RadzenBody>
</div>
<RadzenSidebar @ref="@sidebar0" @bind-Expanded="@sidebarExpanded">
    <ChildContent>
        <AppSideBar />
    </ChildContent>
</RadzenSidebar>
<RadzenFooter class="bg-light">
    <ChildContent>
        <AppFooter />
    </ChildContent>
</RadzenFooter>

<RadzenDialog />
<RadzenNotification Style="position: absolute; top: 10px" />
<RadzenContextMenu />
<RadzenTooltip />

@code {
    RadzenSidebar sidebar0;
    RadzenBody body0;
    bool sidebarExpanded = true;
    bool bodyExpanded = false;

    protected override async Task OnInitializedAsync()
    {
        var result = await _jsRuntime.InvokeAsync<bool>("isSmWindow");

        if (result)
        {
            sidebarExpanded = false;
            bodyExpanded = true;
        }
    }

    private void ChangeToggle()
    {
        sidebarExpanded = !sidebarExpanded;
        bodyExpanded = !bodyExpanded;
    }

}